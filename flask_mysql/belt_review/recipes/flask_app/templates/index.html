<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- BOOTSTRAP -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" 
    rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <title>Recipe Share</title>
</head>
<body>
    <!-- LOGIN & REGISTRATION PAGE -->
    <nav class="navbar navbar-light bg-light justify-content-between">
        <h1 class="m-3 navbar-brand">Recipe Share</h1>
    </nav>
    <!-- container -->
    <div class="d-flex justify-content-around">

        <!-- form to REGISTER a new user -->
        <div class="w-40 mt-3 p-3 bg-dark text-white">
            <h1>Add a new User</h1>
            <form action="/register" method="POST">
                <!-- First Name -->
                <div class="mb-3">
                    <label for="first_name" class="form-label">First Name:</label>
                    <input type="text" class="form-control" name="first_name">
                </div>
                <!-- Last Name -->
                <div class="mb-3">
                    <label for="last_name" class="form-label">Last Name:</label>
                    <input type="text" class="form-control" name="last_name">
                </div>
    
                <!-- Email -->
                <div class="mb-3">
                    <label for="email" class="form-label">Email:</label>
                    <input type="email" class="form-control" name="email">
                </div>
                <!-- Password -->
                <div class="mb-3">
                    <label for="password" class="form-label">Password:</label>
                    <input type="password" class="form-control" name="password">
                </div>
                <!-- Confirm Password -->
                <div class="mb-3">
                    <label for="conf_password" class="form-label">confirm Password:</label>
                    <input type="password" class="form-control" name="conf_password">
                </div>
                <!-- Register button -->
                <input type="submit" value="Register">
            </form>
        </div>
        
        <!-- flash input error messages -->
        <div class="mt-3 p-3">
            {% with messages = get_flashed_messages(with_categories=true) %}
            {%  if messages %}
                {%  for category, message in messages %}
                <!-- check if category is register or login -->
                    {% if category == 'register' %}
                        <div class =" alert alert-warning alert-dismissible fade show" role="alert">
                            <p>{{ message }}</p>
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                        <!-- login -->
                    {% else %}
                        <div class =" alert alert-danger alert-dismissible fade show" role="alert">
                            <p>{{ message }}</p>
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    {% endif %}
                {% endfor %}
            {% endif %}
        {% endwith %}
        </div>
        <!-- LOGIN form -->
        <div class="w-40 h-25 mt-3 p-3 bg-dark text-white">
            <h1>Login</h1>
            <form action="/login" method="POST">
                <!-- Email -->
                <div class="mb-3">
                    <label for="email" class="form-label">Email:</label>
                    <input type="email" class="form-control" name="email">
                </div>
                <!-- Password -->
                <div class="mb-3">
                    <label for="password" class="form-label">Password:</label>
                    <input type="password" class="form-control" name="password">
                </div>
                <!-- Login button -->
                <input type="submit" value="Login">
            </form>
        </div>
    </div>
</body>
</html>